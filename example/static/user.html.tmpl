<!doctype html>
<html lang="en-US">
  <head>
    {{ template "header.html.tmpl" }}
  </head>
  <body>
    <div id="user">
	  <h1>WebAuthn example app</h1>
	  <h2>Hello, {{.Username}}</h2>
	  <h2>Passkeys</h2>
      <p>Passkeys associated with your account.</p>
      {{ range .Passkeys }}
      <table>
        <tr>
          <td>Name</td>
          <td>{{ .Name }}</td>
        </tr>
        <tr>
          <td>Algorithm</td>
          <td>{{ .Algorithm }}</td>
        </tr>
        <tr>
          <td>Added at</td>
          <td class="registered_at" value="{{ .CreatedAt }}"></td>
        </tr>
        <tr>
          <td>Public</td>
          <td class="publickey">{{ .Public }}</td>
        </tr>
        <tr>
          <td>Synced</td>
          <td>{{ .BackedUp }}</td>
        </tr>
        <tr>
          <td>Client data</td>
          <td>{{ .ClientData }}</td>
        </tr>
      </table>
      {{ end }}
	  <button type="button" onclick="appRegisterKey()">Add passkey</button>
	  <h2>Reauth</h2>
      <p>Challenge your passkeys.</p>
      <button type="button", onclick="appReauth()">Reauthenticate</button>
	  <h2>Logout</h2>
      <a href="/logout">
        <button>Logout</button>
      </a>
      <div id="error">
       <span class="material-icons" onclick="appHideError()">
        close
       </span>
       <p id="errortext"></p>
      </div>
    </div>
  </body>
</html>
